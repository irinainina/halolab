{"version":3,"sources":["components/Card/Card.js","components/Cards/Cards.js","components/CheapBtn/CheapBtn.js","components/Form/Form.js","components/SelectCard/SelectCard.js","components/ModalWindow/ModalWindow.js","servises/api-servise.js","components/App/App.js","index.js"],"names":["Card","this","props","category","name","price","onBuy","className","onClick","Component","Cards","allProducts","onBuyApp","elements","map","item","index","key","CheapBtn","onCheapBtnClick","Form","state","phone","nameError","phoneError","getName","event","setState","target","value","getPhone","blurName","validName","blurPhone","validPhone","focusName","focusPhone","onSubmit","preventDefault","console","log","match","length","action","type","id","placeholder","onChange","onBlur","onFocus","htmlFor","SelectCard","cheapProductIndex","selectCardIndex","onClose","ModalWindow","APIServise","base","fetch","res","json","data","getData","allProductsArr","reduce","previousValue","currentValue","array","App","isSelectProduct","apiServise","getSelectCard","onSelect","getAllProducts","getCheapProductIndex","then","items","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08a910e3.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Card.css';\n\nclass Card extends Component {\n  render() {\n    const { category, name, price, onBuy} = this.props;\n    return (\n      <div className=\"card\">\n        <h3 className=\"category\">{category}</h3>\n        <h2 className=\"name\">{name}</h2>\n        <div className=\"sell-container\">\n          <p className=\"price\">{price}</p>\n          <button className=\"card-btn\" onClick={onBuy}>Buy</button>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Card;\n","import React from 'react';\nimport './Cards.css';\nimport Card from '../Card/Card';\n\nconst Cards = ({allProducts, onBuyApp}) => {\n  const elements = allProducts.map((item, index) => {\n    const {category, name, price} = item;\n    return <Card key={index} \n                 category={category}\n                 name={name}\n                 price={price}\n                 onBuy={() => onBuyApp(index)} />\n  });\n  \n  return (\n    <div className=\"cards-container\">\n      {elements}\n    </div>\n  );\n};\n\nexport default Cards;","import React, { Component } from 'react';\nimport './CheapBtn.css';\n\nclass CheapBtn extends Component {\n  render() {\n    const { onCheapBtnClick } = this.props;\n    return (\n      <button className=\"cheap-btn\"\n      onClick={onCheapBtnClick}\n      >Buy cheapest</button>\n    );\n  }\n\n};\n\nexport default CheapBtn;","import React, {Component} from 'react';\nimport './Form.css';\n\nclass Form extends Component {\n\n  state = {\n    name: '',\n    phone: '',\n    nameError: '',\n    phoneError: ''\n  }\n\n  getName = (event) => {\n    this.setState({\n      name: event.target.value\n     })\n  }\n\n  getPhone = (event) => {\n    this.setState({\n      phone: event.target.value\n     })\n  }\n\n  blurName = (event) => {\n    this.setState({\n      name: event.target.value\n     })\n     this.validName();\n  }\n\n  blurPhone = (event) => {\n    this.setState({\n      phone: event.target.value\n     })\n     this.validPhone();\n  }\n\n  validName() {\n    const name = this.state.name;\n    if(name === '') {\n      this.setState({\n        nameError: 'This field in required'\n      });\n    } else if (!name.match(/[a-zа-я]/ig)) {\n      this.setState({\n        nameError: 'Only letters allowed'\n      }) ;\n    } else {\n      this.setState({\n        nameError: ''\n      });\n    }\n  }\n\n  validPhone() {\n    const phone = this.state.phone;\n    if(phone === '') {\n      this.setState({\n        phoneError: 'This field in required'\n      });\n    } else if (!phone.match(/[0-9]/ig)) {\n      this.setState({\n        phoneError: 'Only numbers allowed'\n      });\n    } else if (phone.length !== 12) {\n      this.setState({\n        phoneError: 'Should contain 12 characters'\n      });\n    } else {\n      this.setState({\n        phoneError: ''\n      });\n    }\n  }\n\n  focusName = () => {\n    this.setState({\n      name: '',\n      nameError: ''\n    });\n  }\n\n  focusPhone = () => {\n    this.setState({\n      phone: '',\n      phoneError: ''\n    });\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.validName();\n    this.validPhone();\n    if(!this.state.nameError && !this.state.phoneError) {\n      console.log(` name: ${this.state.name}\\n phone: ${this.state.phone}`)\n    }\n  }\n\n  render() {\n    return (\n      <form action=\"#\" onSubmit={this.onSubmit}>        \n        <input type=\"text\" \n        className={this.state.nameError ? \"input input-error\" : \"input\"}\n        id=\"name-input\"\n        placeholder=\"Name\"\n        value={this.state.name}\n        onChange={this.getName}\n        onBlur={this.blurName}\n        onFocus={this.focusName} />\n        <label htmlFor=\"name-input\">{this.state.nameError}</label>\n        \n        <input type=\"tel\"\n        className={this.state.phoneError ? \"input input-error\" : \"input\"}\n        id=\"phone-input\"\n        placeholder=\"Number\"\n        value={this.state.phone}\n        onChange={this.getPhone}\n        onBlur={this.blurPhone}\n        onFocus={this.focusPhone} />\n        <label htmlFor=\"phone-input\">{this.state.phoneError}</label>\n\n        <button type=\"submit\" className=\"order-btn\">Order<span className=\"arrow-right\"></span></button>\n      </form>\n    );\n  }\n};\n\nexport default Form;","import React from 'react';\nimport './SelectCard.css';\nimport Form from '../Form/Form';\n\nconst SelectCard = ({allProducts, cheapProductIndex, selectCardIndex, onClose}) => {\n  const index = selectCardIndex || cheapProductIndex;\n  return (\n    <div className=\"card select-card\">\n      <h3 className=\"category\">{allProducts[index].category}</h3>\n      <h2 className=\"name select-card-name\">{allProducts[index].name}</h2>\n      <p className=\"price select-card-price\">{allProducts[index].price}</p>\n      <Form />\n      <div className=\"close\"\n      onClick={onClose}\n      ></div>\n    </div>\n  );\n};\n\nexport default SelectCard;","import React from 'react';\nimport './ModalWindow.css';\nimport SelectCard from '../SelectCard/SelectCard';\n\nconst ModalWindow = ({allProducts, cheapProductIndex, selectCardIndex, onClose}) => {\n  return (\n    <div className=\"modal-window\">\n      <SelectCard \n      allProducts={allProducts}\n      cheapProductIndex={cheapProductIndex}\n      selectCardIndex={selectCardIndex} \n      onClose={onClose} />\n    </div>\n  );\n};\n\nexport default ModalWindow;","class APIServise {\n  async getData() {\n    const base = 'https://run.mocky.io/v3/';\n    const key = 'b7d36eea-0b3f-414a-ba44-711b5f5e528e';\n    const url = base + key;\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  }\n\n  getAllProducts() {\n    return this.getData();\n  }\n\n  async getCheapProductIndex() {\n    const allProductsArr = await this.getData();\n    const index = allProductsArr.reduce(\n      (previousValue, currentValue, index, array) => {\n      return (currentValue.price < array[previousValue].price) ? index : previousValue;\n    }, 0);\n    return index;\n  }\n}\n\nexport default APIServise","import React, {Component} from 'react';\nimport './App.css';\nimport Cards from '../Cards/Cards';\nimport CheapBtn from '../CheapBtn/CheapBtn';\nimport ModalWindow from '../ModalWindow/ModalWindow';\nimport APIServise from '../../servises/api-servise';\n\nclass App extends Component {\n  state = {\n    allProducts: [],\n    cheapProductIndex: null,\n    selectCardIndex: null,\n    isSelectProduct: false\n  }\n\n  apiServise = new APIServise();\n\n  constructor() {\n    super();\n    this.getAllProducts();\n    this.getCheapProductIndex();\n  }\n\n  getAllProducts() {\n    this.apiServise.getAllProducts()\n      .then(items => {\n         this.setState({\n          allProducts: items\n         })\n      })\n  }\n\n  getCheapProductIndex() {\n    this.apiServise.getCheapProductIndex()\n      .then(index => {\n         this.setState({\n          cheapProductIndex: index\n         })\n      })\n  }\n\n  getSelectCard = (index) => {\n    this.setState({\n      selectCardIndex: index,\n      isSelectProduct: true\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      selectCardIndex: null,\n      isSelectProduct: false\n    });\n  };\n\n  onSelect = () => {\n    this.setState({\n      isSelectProduct: true\n    });\n  };\n\n  render() {\n    const { allProducts, cheapProductIndex, selectCardIndex, isSelectProduct } = this.state;    \n    \n    return (      \n      <div className=\"container\">\n        { !isSelectProduct ? null : <ModalWindow \n        allProducts={allProducts}\n        cheapProductIndex={cheapProductIndex}\n        selectCardIndex={selectCardIndex}\n        onClose={this.onClose} />}\n        <Cards \n        allProducts={allProducts} \n        onBuyApp={this.getSelectCard} />\n        <CheapBtn \n        onCheapBtnClick={this.onSelect} />\n      </div>\n    );\n  }  \n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}