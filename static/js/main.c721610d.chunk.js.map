{"version":3,"sources":["components/Card/Card.js","components/Cards/Cards.js","components/CheapBtn/CheapBtn.js","components/Form/Form.js","components/SelectCard/SelectCard.js","components/ModalWindow/ModalWindow.js","servises/api-servise.js","components/App/App.js","index.js"],"names":["Card","this","props","category","name","price","onBuy","className","onClick","Component","Cards","allProducts","onBuyApp","elements","map","item","index","key","CheapBtn","onCheapBtnClick","Form","state","phone","nameError","phoneError","getName","event","setState","target","value","getPhone","blurName","validName","blurPhone","validPhone","focusName","focusPhone","onSubmit","preventDefault","console","log","match","length","action","type","id","placeholder","onChange","onBlur","onFocus","htmlFor","SelectCard","cheapProductIndex","selectCardIndex","onClose","Number","isInteger","ModalWindow","APIServise","base","fetch","res","json","data","getData","allProductsArr","reduce","previousValue","currentValue","array","App","isSelectProduct","apiServise","getSelectCard","onSelect","getAllProducts","getCheapProductIndex","then","items","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c721610d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Card.css';\r\n\r\nclass Card extends Component {\r\n  render() {\r\n    const { category, name, price, onBuy} = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <h3 className=\"category\">{category}</h3>\r\n        <h2 className=\"name\">{name}</h2>\r\n        <div className=\"sell-container\">\r\n          <p className=\"price\">{price}</p>\r\n          <button className=\"card-btn\" onClick={onBuy}>Buy</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport './Cards.css';\r\nimport Card from '../Card/Card';\r\n\r\nconst Cards = ({allProducts, onBuyApp}) => {\r\n  const elements = allProducts.map((item, index) => {\r\n    const {category, name, price} = item;\r\n    return <Card key={index} \r\n                 category={category}\r\n                 name={name}\r\n                 price={price}\r\n                 onBuy={() => onBuyApp(index)} />\r\n  });\r\n  \r\n  return (\r\n    <div className=\"cards-container\">\r\n      {elements}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cards;","import React, { Component } from 'react';\r\nimport './CheapBtn.css';\r\n\r\nclass CheapBtn extends Component {\r\n  render() {\r\n    const { onCheapBtnClick } = this.props;\r\n    return (\r\n      <button className=\"cheap-btn\"\r\n      onClick={onCheapBtnClick}\r\n      >Buy cheapest</button>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nexport default CheapBtn;","import React, {Component} from 'react';\r\nimport './Form.css';\r\n\r\nclass Form extends Component {\r\n\r\n  state = {\r\n    name: '',\r\n    phone: '',\r\n    nameError: '',\r\n    phoneError: ''\r\n  }\r\n\r\n  getName = (event) => {\r\n    this.setState({\r\n      name: event.target.value\r\n     })\r\n  }\r\n\r\n  getPhone = (event) => {\r\n    this.setState({\r\n      phone: event.target.value\r\n     })\r\n  }\r\n\r\n  blurName = (event) => {\r\n    this.setState({\r\n      name: event.target.value\r\n     })\r\n     this.validName();\r\n  }\r\n\r\n  blurPhone = (event) => {\r\n    this.setState({\r\n      phone: event.target.value\r\n     })\r\n     this.validPhone();\r\n  }\r\n\r\n  validName() {\r\n    const name = this.state.name;\r\n    if(name === '') {\r\n      this.setState({\r\n        nameError: 'This field in required'\r\n      });\r\n    } else if (!name.match(/[a-zа-я]/ig)) {\r\n      this.setState({\r\n        nameError: 'Only letters allowed'\r\n      }) ;\r\n    } else {\r\n      this.setState({\r\n        nameError: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  validPhone() {\r\n    const phone = this.state.phone;\r\n    if(phone === '') {\r\n      this.setState({\r\n        phoneError: 'This field in required'\r\n      });\r\n    } else if (!phone.match(/[0-9]/ig)) {\r\n      this.setState({\r\n        phoneError: 'Only numbers allowed'\r\n      });\r\n    } else if (phone.length !== 12) {\r\n      this.setState({\r\n        phoneError: 'Should contain 12 characters'\r\n      });\r\n    } else {\r\n      this.setState({\r\n        phoneError: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  focusName = () => {\r\n    this.setState({\r\n      name: '',\r\n      nameError: ''\r\n    });\r\n  }\r\n\r\n  focusPhone = () => {\r\n    this.setState({\r\n      phone: '',\r\n      phoneError: ''\r\n    });\r\n  }\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.validName();\r\n    this.validPhone();\r\n    if(!this.state.nameError && !this.state.phoneError) {\r\n      console.log(` name: ${this.state.name}\\n phone: ${this.state.phone}`)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form action=\"#\" onSubmit={this.onSubmit}>        \r\n        <input type=\"text\" \r\n        className={this.state.nameError ? \"input input-error\" : \"input\"}\r\n        id=\"name-input\"\r\n        placeholder=\"Name\"\r\n        value={this.state.name}\r\n        onChange={this.getName}\r\n        onBlur={this.blurName}\r\n        onFocus={this.focusName} />\r\n        <label htmlFor=\"name-input\">{this.state.nameError}</label>\r\n        \r\n        <input type=\"tel\"\r\n        className={this.state.phoneError ? \"input input-error\" : \"input\"}\r\n        id=\"phone-input\"\r\n        placeholder=\"Number\"\r\n        value={this.state.phone}\r\n        onChange={this.getPhone}\r\n        onBlur={this.blurPhone}\r\n        onFocus={this.focusPhone} />\r\n        <label htmlFor=\"phone-input\">{this.state.phoneError}</label>\r\n\r\n        <button type=\"submit\" className=\"order-btn\">Order<span className=\"arrow-right\"></span></button>\r\n      </form>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Form;","import React from 'react';\r\nimport './SelectCard.css';\r\nimport Form from '../Form/Form';\r\n\r\nconst SelectCard = ({allProducts, cheapProductIndex, selectCardIndex, onClose}) => {\r\n  let index = Number.isInteger(selectCardIndex) ? selectCardIndex : cheapProductIndex;\r\n  return (\r\n    <div className=\"card select-card\">\r\n      <h3 className=\"category\">{allProducts[index].category}</h3>\r\n      <h2 className=\"name select-card-name\">{allProducts[index].name}</h2>\r\n      <p className=\"price select-card-price\">{allProducts[index].price}</p>\r\n      <Form />\r\n      <div className=\"close\"\r\n      onClick={onClose}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectCard;","import React from 'react';\r\nimport './ModalWindow.css';\r\nimport SelectCard from '../SelectCard/SelectCard';\r\n\r\nconst ModalWindow = ({allProducts, cheapProductIndex, selectCardIndex, onClose}) => {\r\n  return (\r\n    <div className=\"modal-window\">\r\n      <SelectCard \r\n      allProducts={allProducts}\r\n      cheapProductIndex={cheapProductIndex}\r\n      selectCardIndex={selectCardIndex} \r\n      onClose={onClose} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalWindow;","class APIServise {\r\n  async getData() {\r\n    const base = 'https://run.mocky.io/v3/';\r\n    const key = 'b7d36eea-0b3f-414a-ba44-711b5f5e528e';\r\n    const url = base + key;\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n    return data;\r\n  }\r\n\r\n  getAllProducts() {\r\n    return this.getData();\r\n  }\r\n\r\n  async getCheapProductIndex() {\r\n    const allProductsArr = await this.getData();\r\n    const index = allProductsArr.reduce(\r\n      (previousValue, currentValue, index, array) => {\r\n      return (currentValue.price < array[previousValue].price) ? index : previousValue;\r\n    }, 0);\r\n    return index;\r\n  }\r\n}\r\n\r\nexport default APIServise","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Cards from '../Cards/Cards';\r\nimport CheapBtn from '../CheapBtn/CheapBtn';\r\nimport ModalWindow from '../ModalWindow/ModalWindow';\r\nimport APIServise from '../../servises/api-servise';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    allProducts: [],\r\n    cheapProductIndex: null,\r\n    selectCardIndex: null,\r\n    isSelectProduct: false\r\n  }\r\n\r\n  apiServise = new APIServise();\r\n\r\n  constructor() {\r\n    super();\r\n    this.getAllProducts();\r\n    this.getCheapProductIndex();\r\n  }\r\n\r\n  getAllProducts() {\r\n    this.apiServise.getAllProducts()\r\n      .then(items => {\r\n         this.setState({\r\n          allProducts: items\r\n         })\r\n      })\r\n  }\r\n\r\n  getCheapProductIndex() {\r\n    this.apiServise.getCheapProductIndex()\r\n      .then(index => {\r\n         this.setState({\r\n          cheapProductIndex: index\r\n         })\r\n      })\r\n  }\r\n\r\n  getSelectCard = (index) => {\r\n    this.setState({\r\n      selectCardIndex: index,\r\n      isSelectProduct: true\r\n    });\r\n  };\r\n\r\n  onClose = () => {\r\n    this.setState({\r\n      selectCardIndex: null,\r\n      isSelectProduct: false\r\n    });\r\n  };\r\n\r\n  onSelect = () => {\r\n    this.setState({\r\n      isSelectProduct: true\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { allProducts, cheapProductIndex, selectCardIndex, isSelectProduct } = this.state;    \r\n    \r\n    return (      \r\n      <div className=\"container\">\r\n        { !isSelectProduct ? null : <ModalWindow \r\n        allProducts={allProducts}\r\n        cheapProductIndex={cheapProductIndex}\r\n        selectCardIndex={selectCardIndex}\r\n        onClose={this.onClose} />}\r\n        <Cards \r\n        allProducts={allProducts} \r\n        onBuyApp={this.getSelectCard} />\r\n        <CheapBtn \r\n        onCheapBtnClick={this.onSelect} />\r\n      </div>\r\n    );\r\n  }  \r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}