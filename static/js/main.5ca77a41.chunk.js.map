{"version":3,"sources":["components/Card/Card.js","components/Cards/Cards.js","components/CheapBtn/CheapBtn.js","components/Form/Form.js","components/SelectCard/SelectCard.js","components/ModalWindow/ModalWindow.js","servises/api-servise.js","components/App/App.js","index.js"],"names":["Card","this","props","category","name","price","onBuy","className","onClick","Component","Cards","allProducts","onBuyApp","elements","map","item","index","key","uuid","CheapBtn","onCheapBtnClick","Form","state","phone","nameError","phoneError","getName","event","setState","target","value","getPhone","blurName","validName","blurPhone","validPhone","focusInput","onSubmit","a","preventDefault","number","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","response","json","result","console","log","isValidName","match","isValidFhone","length","type","id","placeholder","onChange","onBlur","onFocus","focusName","htmlFor","focusPhone","SelectCard","cheapProductIndex","selectCardIndex","onClose","Number","isInteger","ModalWindow","APIServise","res","data","getData","allProductsArr","reduce","previousValue","currentValue","array","App","isSelectProduct","apiServise","getSelectCard","onSelect","getAllProducts","getCheapProductIndex","then","items","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ca77a41.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Card.css';\n\nclass Card extends Component {\n  render() {\n    const { category, name, price, onBuy} = this.props;\n    return (\n      <div className=\"card\">\n        <h3 className=\"category\">{category}</h3>\n        <h2 className=\"name\">{name}</h2>\n        <div className=\"sell-container\">\n          <p className=\"price\">{price}</p>\n          <button className=\"card-btn\" onClick={onBuy}>Buy</button>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Card;\n","import React from 'react';\nimport uuid from 'react-uuid';\nimport './Cards.css';\nimport Card from '../Card/Card';\n\nconst Cards = ({allProducts, onBuyApp}) => {\n  const elements = allProducts.map((item, index) => {\n    const {category, name, price} = item;\n    return <Card key={uuid()}\n                 category={category}\n                 name={name}\n                 price={price}\n                 onBuy={() => onBuyApp(index)} />\n  });\n  \n  return (\n    <div className=\"cards-container\">\n      {elements}\n    </div>\n  );\n};\n\nexport default Cards;","import React, { Component } from 'react';\nimport './CheapBtn.css';\n\nclass CheapBtn extends Component {\n  render() {\n    const { onCheapBtnClick } = this.props;\n    return (\n      <button className=\"cheap-btn\"\n      onClick={onCheapBtnClick}\n      >Buy cheapest</button>\n    );\n  }\n\n};\n\nexport default CheapBtn;","import React, { Component } from 'react';\nimport './Form.css';\n\nclass Form extends Component {\n  state = {\n    name: '',\n    phone: '',\n    nameError: '',\n    phoneError: '',\n  };\n\n  getName = (event) => {\n    this.setState({\n      name: event.target.value,\n    });\n  };\n\n  getPhone = (event) => {\n    this.setState({\n      phone: event.target.value,\n    });\n  };\n\n  blurName = (event) => {\n    this.setState({\n      name: event.target.value,\n    });\n    this.validName();\n  };\n\n  blurPhone = (event) => {\n    this.setState({\n      phone: event.target.value,\n    });\n    this.validPhone();\n  };\n\n  validName() {\n    let isValidName = false;\n    const name = this.state.name;\n    if (name === '') {\n      this.setState({\n        nameError: 'This field in required',\n      });\n    } else if (!name.match(/[a-zа-я]/gi)) {\n      this.setState({\n        nameError: 'Only letters allowed',\n      });\n    } else {\n      this.setState({\n        nameError: '',\n      });\n      isValidName = true;\n    }\n    return isValidName;\n  }\n\n  validPhone() {\n    let isValidFhone = false;\n    const phone = this.state.phone;\n    if (phone === '') {\n      this.setState({\n        phoneError: 'This field in required',\n      });\n    } else if (!phone.match(/[0-9]/gi)) {\n      this.setState({\n        phoneError: 'Only numbers allowed',\n      });\n    } else if (phone.length !== 12) {\n      this.setState({\n        phoneError: 'Should contain 12 characters',\n      });\n    } else {\n      this.setState({\n        phoneError: '',\n      });\n      isValidFhone = true;\n    }\n    return isValidFhone;\n  }\n\n  focusInput = (event) => {\n    this.setState({\n      [event.target.name]: '',\n      [`${event.target.name}Error`]: '',\n    });\n  };\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n    this.validName();\n    this.validPhone();\n    if (!this.validName() && !this.validPhone()) return;\n\n    const url = 'https://tests-rs.herokuapp.com/add-user';\n    const name = this.state.name;\n    const number = this.state.phone;\n    const response = await fetch(url, {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: { 'Content-Type': 'application/json' },\n      redirect: 'follow',\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify({ name, number }),\n    });\n\n    const result = await response.json();\n    console.log(` name: ${result.name}\\n phone: ${result.number}`);\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          type=\"text\"\n          className={this.state.nameError ? 'input input-error' : 'input'}\n          id=\"name-input\"\n          name=\"name\"\n          placeholder=\"Name\"\n          value={this.state.name}\n          onChange={this.getName}\n          onBlur={this.blurName}\n          onFocus={this.focusName}\n        />\n        <label htmlFor=\"name-input\">{this.state.nameError}</label>\n\n        <input\n          type=\"tel\"\n          className={this.state.phoneError ? 'input input-error' : 'input'}\n          id=\"phone-input\"\n          name=\"phone\"\n          placeholder=\"Number\"\n          value={this.state.phone}\n          onChange={this.getPhone}\n          onBlur={this.blurPhone}\n          onFocus={this.focusPhone}\n        />\n        <label htmlFor=\"phone-input\">{this.state.phoneError}</label>\n\n        <button type=\"submit\" className=\"order-btn\">\n          Order<span className=\"arrow-right\"></span>\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","import React from 'react';\nimport './SelectCard.css';\nimport Form from '../Form/Form';\n\nconst SelectCard = ({allProducts, cheapProductIndex, selectCardIndex, onClose}) => {\n  let index = Number.isInteger(selectCardIndex) ? selectCardIndex : cheapProductIndex;\n  return (\n    <div className=\"card select-card\">\n      <h3 className=\"category\">{allProducts[index].category}</h3>\n      <h2 className=\"name select-card-name\">{allProducts[index].name}</h2>\n      <p className=\"price select-card-price\">{allProducts[index].price}</p>\n      <Form />\n      <div className=\"close\"\n      onClick={onClose}\n      ></div>\n    </div>\n  );\n};\n\nexport default SelectCard;","import React from 'react';\nimport './ModalWindow.css';\nimport SelectCard from '../SelectCard/SelectCard';\n\nconst ModalWindow = ({allProducts, cheapProductIndex, selectCardIndex, onClose}) => {\n  return (\n    <div className=\"modal-window\">\n      <SelectCard \n      allProducts={allProducts}\n      cheapProductIndex={cheapProductIndex}\n      selectCardIndex={selectCardIndex} \n      onClose={onClose} />\n    </div>\n  );\n};\n\nexport default ModalWindow;","class APIServise {\n  async getData() {\n    const url = 'https://halolab.herokuapp.com/cards';\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  }\n\n  getAllProducts() {\n    return this.getData();\n  }\n\n  async getCheapProductIndex() {\n    const allProductsArr = await this.getData();\n    const index = allProductsArr.reduce(\n      (previousValue, currentValue, index, array) => {\n      return (currentValue.price < array[previousValue].price) ? index : previousValue;\n    }, 0);\n    return index;\n  }\n}\n\nexport default APIServise","import React, {Component} from 'react';\nimport './App.css';\nimport Cards from '../Cards/Cards';\nimport CheapBtn from '../CheapBtn/CheapBtn';\nimport ModalWindow from '../ModalWindow/ModalWindow';\nimport APIServise from '../../servises/api-servise';\n\nclass App extends Component {\n  state = {\n    allProducts: [],\n    cheapProductIndex: null,\n    selectCardIndex: null,\n    isSelectProduct: false\n  }\n\n  apiServise = new APIServise();\n\n  constructor() {\n    super();\n    this.getAllProducts();\n    this.getCheapProductIndex();\n  }\n\n  getAllProducts() {\n    this.apiServise.getAllProducts()\n      .then(items => {\n         this.setState({\n          allProducts: items\n         })\n      })\n  }\n\n  getCheapProductIndex() {\n    this.apiServise.getCheapProductIndex()\n      .then(index => {\n         this.setState({\n          cheapProductIndex: index\n         })\n      })\n  }\n\n  getSelectCard = (index) => {\n    this.setState({\n      selectCardIndex: index,\n      isSelectProduct: true\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      selectCardIndex: null,\n      isSelectProduct: false\n    });\n  };\n\n  onSelect = () => {\n    this.setState({\n      isSelectProduct: true\n    });\n  };\n\n  render() {\n    const { allProducts, cheapProductIndex, selectCardIndex, isSelectProduct } = this.state;    \n    \n    return (      \n      <div className=\"container\">\n        { !isSelectProduct ? null : <ModalWindow \n        allProducts={allProducts}\n        cheapProductIndex={cheapProductIndex}\n        selectCardIndex={selectCardIndex}\n        onClose={this.onClose} />}\n        <Cards \n        allProducts={allProducts} \n        onBuyApp={this.getSelectCard} />\n        <CheapBtn \n        onCheapBtnClick={this.onSelect} />\n      </div>\n    );\n  }  \n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}