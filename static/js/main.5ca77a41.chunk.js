(window.webpackJsonphalolab=window.webpackJsonphalolab||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=n(1),u=n(2),l=n(4),i=n(3),h=n(5),p=(n(17),n(11)),d=n.n(p),m=(n(18),n(19),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.category,n=e.name,a=e.price,c=e.onBuy;return r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"category"},t),r.a.createElement("h2",{className:"name"},n),r.a.createElement("div",{className:"sell-container"},r.a.createElement("p",{className:"price"},a),r.a.createElement("button",{className:"card-btn",onClick:c},"Buy")))}}]),t}(a.Component)),f=function(e){var t=e.allProducts,n=e.onBuyApp,a=t.map(function(e,t){var a=e.category,c=e.name,o=e.price;return r.a.createElement(m,{key:d()(),category:a,name:c,price:o,onBuy:function(){return n(t)}})});return r.a.createElement("div",{className:"cards-container"},a)},v=(n(20),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.onCheapBtnClick;return r.a.createElement("button",{className:"cheap-btn",onClick:e},"Buy cheapest")}}]),t}(a.Component)),b=(n(21),n(22),n(6)),E=n.n(b),g=n(7),y=n(8),P=(n(24),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",phone:"",nameError:"",phoneError:""},n.getName=function(e){n.setState({name:e.target.value})},n.getPhone=function(e){n.setState({phone:e.target.value})},n.blurName=function(e){n.setState({name:e.target.value}),n.validName()},n.blurPhone=function(e){n.setState({phone:e.target.value}),n.validPhone()},n.focusInput=function(e){var t;n.setState((t={},Object(y.a)(t,e.target.name,""),Object(y.a)(t,"".concat(e.target.name,"Error"),""),t))},n.onSubmit=function(){var e=Object(g.a)(E.a.mark(function e(t){var a,r,c,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.validName(),n.validPhone(),n.validName()||n.validPhone()){e.next=5;break}return e.abrupt("return");case 5:return"https://tests-rs.herokuapp.com/add-user",a=n.state.name,r=n.state.phone,e.next=10,fetch("https://tests-rs.herokuapp.com/add-user",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({name:a,number:r})});case 10:return c=e.sent,e.next=13,c.json();case 13:o=e.sent,console.log(" name: ".concat(o.name,"\n phone: ").concat(o.number));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"validName",value:function(){var e=!1,t=this.state.name;return""===t?this.setState({nameError:"This field in required"}):t.match(/[a-z\u0430-\u044f]/gi)?(this.setState({nameError:""}),e=!0):this.setState({nameError:"Only letters allowed"}),e}},{key:"validPhone",value:function(){var e=!1,t=this.state.phone;return""===t?this.setState({phoneError:"This field in required"}):t.match(/[0-9]/gi)?12!==t.length?this.setState({phoneError:"Should contain 12 characters"}):(this.setState({phoneError:""}),e=!0):this.setState({phoneError:"Only numbers allowed"}),e}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:this.state.nameError?"input input-error":"input",id:"name-input",name:"name",placeholder:"Name",value:this.state.name,onChange:this.getName,onBlur:this.blurName,onFocus:this.focusName}),r.a.createElement("label",{htmlFor:"name-input"},this.state.nameError),r.a.createElement("input",{type:"tel",className:this.state.phoneError?"input input-error":"input",id:"phone-input",name:"phone",placeholder:"Number",value:this.state.phone,onChange:this.getPhone,onBlur:this.blurPhone,onFocus:this.focusPhone}),r.a.createElement("label",{htmlFor:"phone-input"},this.state.phoneError),r.a.createElement("button",{type:"submit",className:"order-btn"},"Order",r.a.createElement("span",{className:"arrow-right"})))}}]),t}(a.Component)),S=function(e){var t=e.allProducts,n=e.cheapProductIndex,a=e.selectCardIndex,c=e.onClose,o=Number.isInteger(a)?a:n;return r.a.createElement("div",{className:"card select-card"},r.a.createElement("h3",{className:"category"},t[o].category),r.a.createElement("h2",{className:"name select-card-name"},t[o].name),r.a.createElement("p",{className:"price select-card-price"},t[o].price),r.a.createElement(P,null),r.a.createElement("div",{className:"close",onClick:c}))},C=function(e){var t=e.allProducts,n=e.cheapProductIndex,a=e.selectCardIndex,c=e.onClose;return r.a.createElement("div",{className:"modal-window"},r.a.createElement(S,{allProducts:t,cheapProductIndex:n,selectCardIndex:a,onClose:c}))},N=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"getData",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://halolab.herokuapp.com/cards",e.next=3,fetch("https://halolab.herokuapp.com/cards");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllProducts",value:function(){return this.getData()}},{key:"getCheapProductIndex",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,n=t.reduce(function(e,t,n,a){return t.price<a[e].price?n:e},0),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(i.a)(t).call(this))).state={allProducts:[],cheapProductIndex:null,selectCardIndex:null,isSelectProduct:!1},e.apiServise=new N,e.getSelectCard=function(t){e.setState({selectCardIndex:t,isSelectProduct:!0})},e.onClose=function(){e.setState({selectCardIndex:null,isSelectProduct:!1})},e.onSelect=function(){e.setState({isSelectProduct:!0})},e.getAllProducts(),e.getCheapProductIndex(),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getAllProducts",value:function(){var e=this;this.apiServise.getAllProducts().then(function(t){e.setState({allProducts:t})})}},{key:"getCheapProductIndex",value:function(){var e=this;this.apiServise.getCheapProductIndex().then(function(t){e.setState({cheapProductIndex:t})})}},{key:"render",value:function(){var e=this.state,t=e.allProducts,n=e.cheapProductIndex,a=e.selectCardIndex,c=e.isSelectProduct;return r.a.createElement("div",{className:"container"},c?r.a.createElement(C,{allProducts:t,cheapProductIndex:n,selectCardIndex:a,onClose:this.onClose}):null,r.a.createElement(f,{allProducts:t,onBuyApp:this.getSelectCard}),r.a.createElement(v,{onCheapBtnClick:this.onSelect}))}}]),t}(a.Component);o.a.render(r.a.createElement(O,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.5ca77a41.chunk.js.map