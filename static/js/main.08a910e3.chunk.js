(window.webpackJsonpholalab=window.webpackJsonpholalab||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),s=n(1),u=n(2),l=n(4),i=n(3),h=n(5),d=(n(15),n(16),n(17),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.category,n=e.name,a=e.price,c=e.onBuy;return r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"category"},t),r.a.createElement("h2",{className:"name"},n),r.a.createElement("div",{className:"sell-container"},r.a.createElement("p",{className:"price"},a),r.a.createElement("button",{className:"card-btn",onClick:c},"Buy")))}}]),t}(a.Component)),m=function(e){var t=e.allProducts,n=e.onBuyApp,a=t.map(function(e,t){var a=e.category,c=e.name,o=e.price;return r.a.createElement(d,{key:t,category:a,name:c,price:o,onBuy:function(){return n(t)}})});return r.a.createElement("div",{className:"cards-container"},a)},p=(n(18),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.onCheapBtnClick;return r.a.createElement("button",{className:"cheap-btn",onClick:e},"Buy cheapest")}}]),t}(a.Component)),f=(n(19),n(20),n(21),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",phone:"",nameError:"",phoneError:""},n.getName=function(e){n.setState({name:e.target.value})},n.getPhone=function(e){n.setState({phone:e.target.value})},n.blurName=function(e){n.setState({name:e.target.value}),n.validName()},n.blurPhone=function(e){n.setState({phone:e.target.value}),n.validPhone()},n.focusName=function(){n.setState({name:"",nameError:""})},n.focusPhone=function(){n.setState({phone:"",phoneError:""})},n.onSubmit=function(e){e.preventDefault(),n.validName(),n.validPhone(),n.state.nameError||n.state.phoneError||console.log(" name: ".concat(n.state.name,"\n phone: ").concat(n.state.phone))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"validName",value:function(){var e=this.state.name;""===e?this.setState({nameError:"This field in required"}):e.match(/[a-z\u0430-\u044f]/gi)?this.setState({nameError:""}):this.setState({nameError:"Only letters allowed"})}},{key:"validPhone",value:function(){var e=this.state.phone;""===e?this.setState({phoneError:"This field in required"}):e.match(/[0-9]/gi)?12!==e.length?this.setState({phoneError:"Should contain 12 characters"}):this.setState({phoneError:""}):this.setState({phoneError:"Only numbers allowed"})}},{key:"render",value:function(){return r.a.createElement("form",{action:"#",onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:this.state.nameError?"input input-error":"input",id:"name-input",placeholder:"Name",value:this.state.name,onChange:this.getName,onBlur:this.blurName,onFocus:this.focusName}),r.a.createElement("label",{htmlFor:"name-input"},this.state.nameError),r.a.createElement("input",{type:"tel",className:this.state.phoneError?"input input-error":"input",id:"phone-input",placeholder:"Number",value:this.state.phone,onChange:this.getPhone,onBlur:this.blurPhone,onFocus:this.focusPhone}),r.a.createElement("label",{htmlFor:"phone-input"},this.state.phoneError),r.a.createElement("button",{type:"submit",className:"order-btn"},"Order",r.a.createElement("span",{className:"arrow-right"})))}}]),t}(a.Component)),b=function(e){var t=e.allProducts,n=e.cheapProductIndex,a=e.selectCardIndex,c=e.onClose,o=a||n;return r.a.createElement("div",{className:"card select-card"},r.a.createElement("h3",{className:"category"},t[o].category),r.a.createElement("h2",{className:"name select-card-name"},t[o].name),r.a.createElement("p",{className:"price select-card-price"},t[o].price),r.a.createElement(f,null),r.a.createElement("div",{className:"close",onClick:c}))},v=function(e){var t=e.allProducts,n=e.cheapProductIndex,a=e.selectCardIndex,c=e.onClose;return r.a.createElement("div",{className:"modal-window"},r.a.createElement(b,{allProducts:t,cheapProductIndex:n,selectCardIndex:a,onClose:c}))},E=n(6),y=n.n(E),P=n(7),g=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"getData",value:function(){var e=Object(P.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://run.mocky.io/v3/","b7d36eea-0b3f-414a-ba44-711b5f5e528e","https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e",e.next=5,fetch("https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e");case 5:return t=e.sent,e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllProducts",value:function(){return this.getData()}},{key:"getCheapProductIndex",value:function(){var e=Object(P.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,n=t.reduce(function(e,t,n,a){return t.price<a[e].price?n:e},0),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),S=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(i.a)(t).call(this))).state={allProducts:[],cheapProductIndex:null,selectCardIndex:null,isSelectProduct:!1},e.apiServise=new g,e.getSelectCard=function(t){e.setState({selectCardIndex:t,isSelectProduct:!0})},e.onClose=function(){e.setState({selectCardIndex:null,isSelectProduct:!1})},e.onSelect=function(){e.setState({isSelectProduct:!0})},e.getAllProducts(),e.getCheapProductIndex(),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getAllProducts",value:function(){var e=this;this.apiServise.getAllProducts().then(function(t){e.setState({allProducts:t})})}},{key:"getCheapProductIndex",value:function(){var e=this;this.apiServise.getCheapProductIndex().then(function(t){e.setState({cheapProductIndex:t})})}},{key:"render",value:function(){var e=this.state,t=e.allProducts,n=e.cheapProductIndex,a=e.selectCardIndex,c=e.isSelectProduct;return r.a.createElement("div",{className:"container"},c?r.a.createElement(v,{allProducts:t,cheapProductIndex:n,selectCardIndex:a,onClose:this.onClose}):null,r.a.createElement(m,{allProducts:t,onBuyApp:this.getSelectCard}),r.a.createElement(p,{onCheapBtnClick:this.onSelect}))}}]),t}(a.Component);o.a.render(r.a.createElement(S,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.08a910e3.chunk.js.map